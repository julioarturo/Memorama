<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>Memorama</title>
</head>

<body>
    <div class="container p-3">
        <div class="row col-12">
            <div class="col-4" id="Tarjeta1-1" onclick="Tarjeta(1);">
                <div class="card shadow " style="height: 170px;">
                    <div class="card-body d-flex align-content-center flex-wrap mx-auto">
                        <p>1</p>
                    </div>
                </div>
            </div>
            <div class="col-4" id="Tarjeta1-2" style="display: none;" data-vista="no" data-valor="1">
                <div class="card shadow " id="Tarjeta1-2-Card" style="height: 170px;">
                    <div class="card-body d-flex align-content-center flex-wrap mx-auto">
                        <p id="Tarjeta1-2-p">Hola</p>
                    </div>
                </div>
            </div>
            <div class="col-4" id="Tarjeta2-1" onclick="Tarjeta(2);">
                <div class="card shadow " style="height: 170px;">
                    <div class="card-body d-flex align-content-center flex-wrap mx-auto">
                        <p>2</p>
                    </div>
                </div>
            </div>
            <div class="col-4" id="Tarjeta2-2" style="display: none;"  data-vista="no" data-valor="2">
                <div class="card shadow " id="Tarjeta2-2-Card" style="height: 170px;">
                    <div class="card-body d-flex align-content-center flex-wrap mx-auto">
                        <p id="Tarjeta2-2-p">Mundo</p>
                    </div>
                </div>
            </div>
            <div class="col-4" id="Tarjeta3-1" onclick="Tarjeta(3);">
                <div class="card shadow " style="height: 170px;">
                    <div class="card-body d-flex align-content-center flex-wrap mx-auto">
                        <p >3</p>
                    </div>
                </div>
            </div>
            <div class="col-4 " style="display: none;" id="Tarjeta3-2" data-vista="no" data-valor="1">
                <div class="card shadow " id="Tarjeta3-2-Card" style="height: 170px;">
                    <div class="card-body d-flex align-content-center flex-wrap mx-auto">
                        <p id="Tarjeta3-2-p">Hola</p>
                    </div>
                </div>
            </div>
        </div>
        
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>
    <script>
        function Tarjeta(num) {
            let id1 = "Tarjeta" + num + "-1";
            let a = document.getElementById(id1);
            a.style.display = "none";
            let id2 = "Tarjeta" + num + "-2";
            let b = document.getElementById(id2);
            b.style.display = "block";
            b.dataset.vista = "Si";
            dosTarjetas();
        }

        function dosTarjetas() {
            let contador = 0;
            let paso = true;
            let id1 = [];
            let id2 = [];
            for (i = 1; i <= 3; i++) {
                let idTarj1 = "Tarjeta" + i + "-1";
                let idTarj2 = "Tarjeta" + i + "-2";
                let elementTarj2 = document.getElementById(idTarj2);
                if (elementTarj2.dataset.vista == "Si" && elementTarj2.dataset.vista != "Resuelto") {
                    id1[contador] = idTarj1;
                    id2[contador] = idTarj2;
                    contador++;
                }

                if (contador == 2 && paso) {
                    console.log("YESSS");
                    paso = false;
                    comparar(id1,id2);
                }
            }
        }

        function comparar(id1,id2) {
            if(document.getElementById(id2[0]).dataset.valor == document.getElementById(id2[1]).dataset.valor){
                console.log("Iguales");
                document.getElementById(id2[0]).disabled = true;
                document.getElementById(id2[1]).disabled = true;
                document.getElementById(id2[0]).dataset.vista = "Resuelto";
                document.getElementById(id2[1]).dataset.vista = "Resuelto";
                document.getElementById(id2[0] + "-Card").style.backgroundColor = "#75b798";
                document.getElementById(id2[1] + "-Card").style.backgroundColor = "#75b798";
                document.getElementById(id2[0] + "-p").style.color = "white";
                document.getElementById(id2[1] + "-p").style.color = "white";
                alert("Has conseguido Adivinar");
            } else{
                console.log("diferentes");
                document.getElementById(id2[0]).style.display = "none";
                document.getElementById(id2[1]).style.display = "none";
                document.getElementById(id1[0]).style.display = "block";
                document.getElementById(id1[1]).style.display = "block";
                document.getElementById(id2[0]).dataset.vista = "No";
                document.getElementById(id2[1]).dataset.vista = "No";
                alert("Vuelve a intentarlo");
            }          
        }

    </script>
</body>

</html>